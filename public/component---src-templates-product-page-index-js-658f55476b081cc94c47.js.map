{"version":3,"sources":["webpack:///./src/components/ProductForm/index.js","webpack:///./src/templates/ProductPage/styles.js","webpack:///./src/templates/ProductPage/index.js","webpack:///./node_modules/lodash/find.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./node_modules/lodash/_createFind.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/lodash/toNumber.js"],"names":["ProductForm","product","activeStyle","borderBottom","display","cursor","paddingBottom","fontFamily","marginBottom","marginRight","fontSize","letterSpacing","inactiveStyle","options","variants","initialVariant","minVariantPrice","priceRange","useState","variant","setVariant","quantity","detailsActive","setDetailsActive","shippingActive","setShippingActive","useContext","StoreContext","addVariantToCart","store","client","adding","productVariant","helpers","variantForOptions","availableForSale","available","setAvailable","checkAvailability","useCallback","productId","fetch","then","fetchedProduct","result","filter","id","shopifyId","length","useEffect","checkDisabled","name","value","match","find","selectedOptions","undefined","price","Intl","NumberFormat","currency","currencyCode","minimumFractionDigits","style","format","width","opacity","className","padding","lineHeight","backgroundColor","color","onClick","listStyleType","listStylePosition","map","index","values","Fragment","key","htmlFor","flexWrap","onChange","event","optionIndex","target","currentOptions","selectedVariant","isEqual","handleOptionChange","i","textAlign","border","borderRadius","flexGrow","marginLeft","type","disabled","background","fontWeight","ProductTitle","styled","div","ProductDescription","query","ProductPage","data","activeThumbnailStyle","margin","inactiveThumbnailStyle","activeImage","setActiveImage","imageIndex","setImageIndex","shopifyProduct","images","image","boxSizing","fluid","localFile","childImageSharp","alt","title","height","imageThumbnails","handleClick","overflow","description","paddingRight","dangerouslySetInnerHTML","__html","descriptionHtml","createFind","module","exports","array","predicate","fromIndex","fromRight","toFinite","remainder","baseFindIndex","baseIteratee","toInteger","nativeMax","Math","max","isArrayLike","keys","findIndexFunc","collection","iterable","Object","iteratee","baseIsEqual","other","toNumber","INFINITY","MAX_INTEGER","isObject","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","valueOf","replace","isBinary","test","slice"],"mappings":"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","file":"component---src-templates-product-page-index-js-658f55476b081cc94c47.js","sourcesContent":["import React, { useState, useContext, useEffect, useCallback } from 'react'\nimport find from 'lodash/find'\nimport isEqual from 'lodash/isEqual'\nimport PropTypes from 'prop-types'\n\nimport StoreContext from '~/context/StoreContext'\n\n\n\nconst ProductForm = ({ product }) => {\n  const activeStyle = {\n  borderBottom: \"1px solid black\",\n  display: \"inline-block\",\n  cursor: \"pointer\",\n  paddingBottom: 8,\n  fontFamily: \"AvenirBold\",\n  marginBottom: -1,\n  marginRight: 36,\n  fontSize: 13,\n  letterSpacing: 1\n}\n\nconst inactiveStyle = {\n  display: \"inline-block\",\n  cursor: \"pointer\",\n  paddingBottom: 8,\n  marginBottom: -1,\n  marginRight: 36,\n  fontSize: 13,\n  letterSpacing: 1\n}\n\n  const {\n    options,\n    variants,\n    variants: [initialVariant],\n    priceRange: { minVariantPrice },\n  } = product\n  const [variant, setVariant] = useState({ ...initialVariant })\n  const [quantity, setQuantity] = useState(1)\n  const [detailsActive, setDetailsActive] = useState(true)\n  const [shippingActive, setShippingActive] = useState(false)\n\n  const {\n    addVariantToCart,\n    store: { client, adding },\n  } = useContext(StoreContext)\n\n  const productVariant =\n    client.product.helpers.variantForOptions(product, variant) || variant\n  const [available, setAvailable] = useState(productVariant.availableForSale)\n\n  const checkAvailability = useCallback(\n    productId => {\n      client.product.fetch(productId).then(fetchedProduct => {\n        // this checks the currently selected variant for availability\n        const result = fetchedProduct.variants.filter(\n          variant => variant.id === productVariant.shopifyId\n        )\n        if (result.length > 0) {\n          setAvailable(result[0].available)\n        }\n      })\n    },\n    [client.product, productVariant.shopifyId, variants]\n  )\n\n  useEffect(() => {\n    checkAvailability(product.shopifyId)\n  }, [productVariant, checkAvailability, product.shopifyId])\n\n  const handleQuantityChange = ({ target }) => {\n    setQuantity(target.value)\n  }\n\n  const handleOptionChange = (optionIndex, { target }) => {\n    const { value } = target\n    const currentOptions = [...variant.selectedOptions]\n\n    currentOptions[optionIndex] = {\n      ...currentOptions[optionIndex],\n      value,\n    }\n\n    const selectedVariant = find(variants, ({ selectedOptions }) =>\n      isEqual(currentOptions, selectedOptions)\n    )\n\n    setVariant({ ...selectedVariant })\n  }\n\n  const handleAddToCart = () => {\n    addVariantToCart(productVariant.shopifyId, quantity)\n  }\n\n  /* \n  Using this in conjunction with a select input for variants \n  can cause a bug where the buy button is disabled, this \n  happens when only one variant is available and it's not the\n  first one in the dropdown list. I didn't feel like putting \n  in time to fix this since its an edge case and most people\n  wouldn't want to use dropdown styled selector anyways - \n  at least if the have a sense for good design lol.\n  */\n  const checkDisabled = (name, value) => {\n    const match = find(variants, {\n      selectedOptions: [\n        {\n          name: name,\n          value: value,\n        },\n      ],\n    })\n    if (match === undefined) return true\n    if (match.availableForSale === true) return false\n    return true\n  }\n\n  const price = Intl.NumberFormat(undefined, {\n    currency: minVariantPrice.currencyCode,\n    minimumFractionDigits: 2,\n    style: 'currency',\n  }).format(variant.price)\n\n  function handleClick(arg) {\n    if (arg === \"increase\") {\n      setQuantity(prevState => prevState + 1)\n    }\n    if (arg === \"decrease\" && quantity > 0) {\n      setQuantity(prevState => prevState - 1)\n    }\n  }\n\n  function handleDetailsClick() {\n    setDetailsActive(true)\n    setShippingActive(false)\n  }\n\n  function handleShippingClick() {\n    setDetailsActive(false)\n    setShippingActive(true)\n  }\n\n  return (\n    <>\n      <div\n        style={{\n          fontSize: 18,\n          width: 70,\n          opacity: \"0.65\"\n        }}\n      >{price}</div>\n\n      <br />\n\n      <div className=\"pastel\" style={{display: \"inline-block\", padding: \"16px 20px\", lineHeight: \"1.4\", backgroundColor: \"rgba(197, 155, 141,0.1)\", fontFamily: \"AvenirBold\", color: \"rgba(197, 155, 141,1)\", fontSize: 16}}>\n        Buy any 3 cushion covers, save £10\n      </div>\n\n      <br /><br /><br />\n\n      <div>\n        <div style={{borderBottom: \"1px solid rgba(0,0,0,0.2)\", marginBottom: 16}}>\n          <div onClick={handleDetailsClick} style={detailsActive ? activeStyle : inactiveStyle}>DETAILS</div>\n          <div onClick={handleShippingClick} style={shippingActive ? activeStyle : inactiveStyle}>SHIPPING, EXCHANGES & REFUNDS</div>\n        </div>\n        {detailsActive && \n          <ul style={{lineHeight: \"1.4\", listStyleType: \"disc\", listStylePosition: \"inside\"}}>\n            <li>Cotton-linen blend cushion cover</li>\n            <li>45cm x 45cm</li>\n            <li>Inner cushion not included</li>\n          </ul>\n        }\n        {shippingActive && <div>Shipping info here</div>}\n      </div>\n\n      \n\n      <br /><br />\n\n\n      {options.map(({ id, name, values }, index) => (\n        <React.Fragment key={id}>\n          <label htmlFor={name} style={{lineHeight: \"1.4\", fontSize: 13, letterSpacing: 1, fontFamily: \"AvenirBold\", marginBottom: 8, display: \"inline-block\"}}>DESIGN</label>\n          <form\n            style={{display: \"flex\", width: \"100%\", flexWrap: \"nowrap\"}}\n            name={name}\n            key={id}\n            onChange={event => handleOptionChange(index, event)}\n          >\n            {values.map((value, i) => (\n              <>\n              <label style={variant.selectedOptions[0].value === value ? {cursor: \"pointer\", lineHeight: \"1.4\", textAlign: \"center\", border: \"2px solid #66afed\", padding: \"12px 24px\", display: \"inline-block\", borderRadius: 4, flexGrow: \"1\", width: \"50%\"} : {lineHeight: \"1.4\", textAlign: \"center\", border: \"1px solid rgba(0,0,0,0.2)\", marginLeft: 1, marginRight: 1, padding: \"13px 24px\", display: \"inline-block\", borderRadius: 4, flexGrow: \"1\", width: \"50%\", cursor: \"pointer\"}}>\n              <input\n                type=\"radio\"\n                name={name}\n                value={value}\n                key={`${name}-${value}`}\n                disabled={checkDisabled(name, value)}\n                style={{display: \"none\"}}\n              />\n              <span style={{fontFamily: \"AvenirBold\"}}>{value}</span>\n              <br />\n              <span style={{fontSize: 14}}>£{variants[i].price}</span>\n              </label>\n              {i === 0 && <div style={{width: 12}}></div>}\n              </>\n            ))}\n          </form>\n          <br />\n        </React.Fragment>\n      ))}\n\n      \n\n        <br />\n\n        <button\n            className=\"pastel2\"\n            type=\"submit\"\n            disabled={!available || adding}\n            onClick={handleAddToCart}\n            style={{\n              background: \"linear-gradient(145deg,HSL(127,72%,85%),HSL(213,93%,64%)\",\n              borderRadius: 30,\n              color: \"white\",\n              border: \"none\",\n              padding: 2,\n              cursor: \"pointer\",\n              fontSize: 15,\n              fontWeight: \"500\",\n              letterSpacing: 0.5\n            }}\n          >\n            <div style={{\n              padding: \"9px 20px 10px\",\n              borderRadius: 30,\n              color: \"black\",\n              background: \"white\"\n            }}>Add to Bag</div>\n          </button>\n\n          <br />\n\n      {!available && <p>This Product is out of Stock!</p>}\n    </>\n  )\n}\n\nProductForm.propTypes = {\n  product: PropTypes.shape({\n    descriptionHtml: PropTypes.string,\n    handle: PropTypes.string,\n    id: PropTypes.string,\n    shopifyId: PropTypes.string,\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string,\n        originalSrc: PropTypes.string,\n      })\n    ),\n    options: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string,\n        name: PropTypes.string,\n        values: PropTypes.arrayOf(PropTypes.string),\n      })\n    ),\n    productType: PropTypes.string,\n    title: PropTypes.string,\n    variants: PropTypes.arrayOf(\n      PropTypes.shape({\n        availableForSale: PropTypes.bool,\n        id: PropTypes.string,\n        price: PropTypes.string,\n        title: PropTypes.string,\n        shopifyId: PropTypes.string,\n        selectedOptions: PropTypes.arrayOf(\n          PropTypes.shape({\n            name: PropTypes.string,\n            value: PropTypes.string,\n          })\n        ),\n      })\n    ),\n  }),\n  addVariantToCart: PropTypes.func,\n}\n\nexport default ProductForm\n","import styled from '@emotion/styled'\n\nexport const ProductTitle = styled.div`\n  font-size: 28px;\n  word-wrap: break-word;\n  font-weight: 400;\n  margin-bottom: 6px;\n  font-family: 'PlayfairDisplay';\n  font-weight: 400;\n`\n\nexport const ProductDescription = styled.div`\n  margin-top: 40px;\n  line-height: 1.4;\n  font-weight: 300;\n  font-size: 14px;\n  color: rgb(68,68,68)\n`","import React, { useState } from 'react'\nimport { graphql } from 'gatsby'\n\nimport SEO from '~/components/seo'\nimport ProductForm from '~/components/ProductForm'\nimport {\n  Img,\n  Container,\n  TwoColumnGrid,\n  GridLeft,\n  GridRight,\n} from '~/utils/styles'\nimport {\n  ProductTitle,\n  ProductDescription\n} from './styles'\n\nconst ProductPage = ({ data }) => {\n  const activeThumbnailStyle = {\n    cursor: \"pointer\", \n    margin: \"0px 6px\", \n    border: \"1px solid rgba(0,0,0,0.65)\", \n    display: \"inline-block\", \n    borderRadius: \"50%\"\n  }\n  const inactiveThumbnailStyle = {\n    cursor: \"pointer\", \n    margin: \"0px 6px\", \n    border: \"1px solid rgba(0,0,0,0)\", \n    display: \"inline-block\", \n    borderRadius: \"50%\"\n  }\n  const [ activeImage, setActiveImage ] = useState()\n  const [ imageIndex, setImageIndex ] = useState(0)\n  const product = data.shopifyProduct\n\n  const images = product.images.map((image, i) => (\n    i === 0 ? \n    <div style={{boxSizing: \"border-box\", padding: \"54px 37px 38px 29px\", background: \"linear-gradient(140deg, rgba(220,225,255), rgba(10,10,30, 0.07))\"}}>\n      <Img\n        fluid={image.localFile.childImageSharp.fluid}\n        key={image.id}\n        alt={product.title}\n      />\n    </div>\n    :\n    <div style={{height: 461.375}}>\n    <Img\n        fluid={image.localFile.childImageSharp.fluid}\n        key={image.id}\n        alt={product.title}\n        style={{height: 461.375}}\n    />\n</div>\n\n  ))\n\n  const imageThumbnails = product.images.map((image, i) => (\n        i === 0 ? \n        <div style={imageIndex === i ? activeThumbnailStyle : inactiveThumbnailStyle}>\n    <div onClick={() => handleClick(i)} style={{margin: 2, borderRadius: \"50%\", width: 36, height: 36, overflow: \"hidden\", boxSizing: \"border-box\", padding: \"4px 0px 0px 0px\", background: \"linear-gradient(140deg, rgba(220,225,255), rgba(10,10,30, 0.1))\"}}>\n\n      <Img\n        fluid={image.localFile.childImageSharp.fluid}\n        key={image.id}\n        alt={product.title}\n      />\n\n    </div>\n    </div>\n    :\n    <div style={imageIndex === i ? activeThumbnailStyle : inactiveThumbnailStyle}>\n    <div style={{margin: 2, borderRadius: \"50%\", width: 36, height: 36, overflow: \"hidden\", boxSizing: \"border-box\"}} onClick={() => handleClick(i)}>\n      <div style={{width: 68}}>\n        <Img\n            fluid={image.localFile.childImageSharp.fluid}\n            key={image.id}\n            alt={product.title}\n        />\n      </div>\n    </div>\n    </div>\n\n    ))\n\n\n  function handleClick(i) {\n    setActiveImage(images[i])\n    setImageIndex(i)\n    // console.log(e.target);\n  }\n  return (\n    <>\n      <SEO title={product.title} description={product.description} />\n      <Container>\n        <TwoColumnGrid>\n          <GridLeft>\n            \n            <div style={{width: \"100%\", padding: \"0px 72px 0px 0px\"}}>\n              {activeImage ? activeImage : images[0]}\n            </div>\n            {images[1] && \n            <div style={{margin: \"28px auto\", paddingRight: 72}}>\n              {imageThumbnails}\n            </div>}\n          </GridLeft>\n          <GridRight style={{opacity: \"1\"}}>\n            <ProductTitle style={{}}>{product.title}</ProductTitle>\n            <ProductForm product={product} />\n            <br /><br />\n            <div style={{fontSize: 14, lineHeight: \"1.4\"}}>\n              <span style={{fontFamily: \"Avenir-Medium\", fontSize: 16}}>Our Happiness Promise</span>\n              <br />We stand behind our products. If you don’t love it, <br />exchanges and returns are free for 60 days. \n            </div>\n          </GridRight>\n        </TwoColumnGrid>\n        <ProductDescription\n              dangerouslySetInnerHTML={{ __html: product.descriptionHtml }}\n            />\n      </Container>\n    </>\n  )\n}\n\nexport const query = graphql`\n  query($handle: String!) {\n    shopifyProduct(handle: { eq: $handle }) {\n      id\n      title\n      handle\n      productType\n      description\n      descriptionHtml\n      shopifyId\n      options {\n        id\n        name\n        values\n      }\n      variants {\n        id\n        title\n        price\n        availableForSale\n        shopifyId\n        selectedOptions {\n          name\n          value\n        }\n      }\n      priceRange {\n        minVariantPrice {\n          amount\n          currencyCode\n        }\n        maxVariantPrice {\n          amount\n          currencyCode\n        }\n      }\n      images {\n        originalSrc\n        id\n        localFile {\n          childImageSharp {\n            fluid {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default ProductPage\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\n\n\nvar find = createFind(findIndex);\nmodule.exports = find;","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while (fromRight ? index-- : ++index < length) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nmodule.exports = baseFindIndex;","var toFinite = require('./toFinite');\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\n\n\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n  return result === result ? remainder ? result - remainder : result : 0;\n}\n\nmodule.exports = toInteger;","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\n\nvar nativeMax = Math.max;\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\n\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n\n  if (!length) {\n    return -1;\n  }\n\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\n\n\nfunction createFind(findIndexFunc) {\n  return function (collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n\n      predicate = function predicate(key) {\n        return iteratee(iterable[key], key, iterable);\n      };\n    }\n\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;","var baseIsEqual = require('./_baseIsEqual');\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\n\n\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;","var toNumber = require('./toNumber');\n/** Used as references for various `Number` constants. */\n\n\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\n\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n\n  value = toNumber(value);\n\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = value < 0 ? -1 : 1;\n    return sign * MAX_INTEGER;\n  }\n\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;","require(\"core-js/modules/es6.regexp.replace\");\n\nvar isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n/** Used as references for various `Number` constants. */\n\n\nvar NAN = 0 / 0;\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = toNumber;"],"sourceRoot":""}